<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carte √©tablissements et CFA - CMAR</title>
    <link rel="stylesheet" href="styles/styles_index.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""/>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@100..900&display=swap" rel="stylesheet">


</head>
<body>
<div class="container">
    <div class="left-div">
        <div class="title-item"><h1 class="h1">Nous trouver</h1></div>

        <div class="search-input-div">
            <input type="text" class="input-bar" autocomplete="off" id="searchInput" placeholder="Ville ou code postale">
            <span class="search-icon">üîç</span>
        </div>
        <div id="suggestions" class="suggestions-container"></div>


        <div class="list-container"> </div>
    </div>
    <div class="toggle-switch non-selectable" onclick="toggleSwitch()">
        <div class="toggle-option cma">CMA
<img id="markerCmaWhite" src="logo/markerWhite.svg" class="img-marker" alt="">
        </div>
        <div class="toggle-option cfa">CFA
            <img id="markerCfa" src="logo/markerCFA.svg" class="img-marker" alt="">
        </div>
    </div>

    <div id="map" class="right-div"></div>
</div>
<script>
    toggleBool = true;
            // Fonction pour basculer le bouton toggle
            function toggleSwitch() {
            searchInput.value = "";
            const toggleSwitch = document.querySelector('.toggle-switch');
            imgCma = document.getElementById("markerCmaWhite");
            imgCfa = document.getElementById("markerCfa");
            toggleSwitch.classList.toggle('active');
            map.setView([43.9352, 6.0679], 8);
            if (toggleBool == true) {
                toggleBool = false;
                imgCma.src = "logo/marker.svg";
                imgCfa.src = "logo/markerCFAWhite.svg";
                clearAllMarkers();
                addDataToMap("cfa");
            } else {
                toggleBool = true;
                imgCma.src = "logo/markerWhite.svg";
                imgCfa.src = "logo/markerCFA.svg";
                clearAllMarkers();
                addDataToMap("cma");
            }
        }
</script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""></script>
    <script src="fonctions.js" defer></script>
    <script src="script.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
</body>
</html>